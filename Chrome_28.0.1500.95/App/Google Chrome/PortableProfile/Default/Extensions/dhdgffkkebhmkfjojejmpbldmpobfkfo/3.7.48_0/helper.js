Registry.require("convert",function(){var p=Registry.get("convert"),l=function(a,c){void 0==c&&(c=[]);var b=RegExp("(\\"+"/.+?|()[]{}\\".split("").concat(c).join("|\\")+")","g");return a.replace(b,"\\$1")},g=function(a,c){return l(a,["*"])},f=function(a){return{}.toString.apply(a).match(/\s([a-z|A-Z]+)/)[1]},h=function(a,c){var b=f(a);if("Array"===b||"NodeList"===b)for(b=0;b<a.length&&!1!==c(a[b],b);b++);else if("XPathResult"===b)for(b=a.iterateNext();b&&!1!==c(b);)b=a.iterateNext();else for(var d in a)if(a.hasOwnProperty(d)&&
!1===c(a[d],d))break},k=function(a){if("Object"==f(a)){var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(b+":"+k(a[b]));return"{"+c.join(",")+"}"}if("Array"==f(a)){var d=[];a.forEach(function(a){d.push(k(a))});return"["+d.join(",")+"]"}return void 0===a?"undefined":null===a?"null":"Function"==f(a)?a.toString():'"'+a.toString()+'"'},m=function(a){return document.body?document.body.innerText:0<a.childNodes.length?m(a.childNodes[a.childNodes.length-1]):a.innerText},q=function(){var a={objs:{},push:function(c,
b){0!==b&&1!==b&&(b=0);var d=n();a.objs[d]={fn:c,prio:b};return d},remove:function(c){delete a.objs[c]},get:function(c){for(var b=[],d=0;1>=d;d++)for(var e in a.objs)a.objs.hasOwnProperty(e)&&(a.objs[e].prio!==d||void 0!==c&&e!=c||b.push(a.objs[e].fn));return void 0===c?b:b[0]},finalize:function(c){if(void 0===c){c=a.get();for(var b=0;b<c.length;b++)c[b]()}else return a.objs[c]&&(b=a.objs[c].fn(),delete a.objs[c]),b}};return a}(),n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var c=16*Math.random()|0;return("x"==a?c:c&3|8).toString(16)})};Registry.register("helper","48",{createUniqueId:function(a,c){return p.Base64.encode(a+"_"+c).replace(/[^0-9a-zA-Z_\-]/g,"")},getStringBetweenTags:function(a,c,b){var d=a.search(g(c));if(-1==d)return"";if(!b)return a.substr(d+c.length);b=a.substr(d+c.length).search(g(b));return-1==b?"":a.substr(d+c.length,b)},escapeForRegExpURL:l,escapeForRegExp:g,isLocalImage:function(a){var c=chrome.extension.getURL("background.js"),
c=c.replace("background.js","")+"images/";return a.length>=c.length&&c==a.substr(0,c.length)},getUrlArgs:function(a){var c={},b=window.location.search.replace(/^\?/,""),d=window.location.hash.replace(/^#/,"");b?a&&d&&(b=b+"&"+d):b=d;a=b.split("&");for(var e,b=0;b<a.length;b++)e=a[b].split("="),2!=e.length&&(d=e[0],e=e.slice(1).join("="),e=[d,e]),c[e[0]]=decodeURIComponent(e[1]);return c},getSource:m,alert:function(a){window.setTimeout(function(){alert(a)},1)},confirm:function(a,c){window.setTimeout(function(){var b=
confirm(a);c(b)},1)},serialize:k,filter:function(a,c){return a&&c?(a.match(c)||[]).join(""):""},toType:f,each:h,select:function(a,c){var b=[];h(a,function(a){c(a)&&b.push(a)});return b},map:function(a,c){var b=[];h(a,function(a){b.push(c(a))});return b},clean:q,sleep:function(a){for(var c=(new Date).getTime();(new Date).getTime()-c<a;)for(var b=0;100>b;b++);},createUUID:n,decodeHtml:function(a){return a.replace(/(?:&#x([a-fA-F0-9]+);|&#([0-9]+);)/g,function(a,b,d){return b?String.fromCharCode(parseInt(b,
16)):String.fromCharCode(parseInt(d,10))})},encodeHtml:function(a){return a.replace(/[\u00A0-\u2666]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},staticVars:{visible:void 0,invisible:"display: none;",visible_move:void 0,invisible_move:"position:absolute; left: -20000px; top: -200000px; width: 1px; height: 1px;"}})});
