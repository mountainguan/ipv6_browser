(function(){var h=function(){var g=[],d={objects:{},versions:{},raw_objects:{},loading:0,init:function(){},verify:function(a){var b=[],c;for(c in d.versions)d.versions.hasOwnProperty(c)&&(3<d.versions[c].length&&"###"===d.versions[c].substr(0,3)?console.debug("self.verify: development version detected @ "+c):d.versions[c]!==a&&(console.warn("self.verify: expected version "+a+" and detected "+d.versions[c]+" @ "+c),b.push({name:c,version:d.versions[c],expected:a})));return b},register:function(a,b,
c,e){if(!d.objects[a]||e)for(d.versions[a]=b,d.objects[a]=c,a=g,g=[];a.length;)a.pop()()},registerRaw:function(a,b,c,e){if(!d.raw_objects[a]||e)d.versions[a]=b,d.raw_objects[a]=c},require:function(a,b){a="string"===typeof a?[a]:a;var c=1,e=function(){return a.every(function(a){return!!d.objects[a]})},f=function(){g.push(function(){e()?b():f()})};a.forEach(function(a){void 0===d.objects[a]&&(d.objects[a]=null,d.loadFile(a+".js",function(){0==--c&&b&&(e()?b():f())}),c++)});0==--c&&b&&(e()?b():f())},
getRaw:function(a){var b=null;if(void 0!==d.raw_objects[a])b=d.raw_objects[a];else{var c=chrome.extension.getURL(a);try{var e=new XMLHttpRequest;e.open("GET",c,!1);e.send(null);(b=e.responseText)||console.log("WARN: content of "+a+" is null!")}catch(f){console.log("getRawContent "+f)}}return b},loadFile:function(a,b){try{var c=document.createElement("script");c.setAttribute("src",a);c.onload=function(){b&&b(a)};(document.head||document.body||document.documentElement||document).appendChild(c)}catch(d){console.log("Error: self.load "+
a+" failed! "+d.message)}},prepare:function(a){var b=d.get("prepare");a&&(b=b.PREPARED_FOR_BACKGROUND());return b},isDevVersion:function(a){return d.versions[a]&&"###"===d.versions[a].substr(0,3)},get:function(a){var b,c=d.objects[a];"function"===typeof c?(b=Array.prototype.slice.call(arguments,1),b=c.apply(this,b)):c&&(b=c);return b}};return d}();window.setTimeout(h.init,1);window.Registry=h})();
